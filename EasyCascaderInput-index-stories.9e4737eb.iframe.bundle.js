"use strict";(self.webpackChunkmui_easy_cascader=self.webpackChunkmui_easy_cascader||[]).push([[342],{"./src/EasyCascaderInput/index.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Defalut:()=>Defalut,DisplayPath:()=>DisplayPath,__namedExportsOrder:()=>__namedExportsOrder,default:()=>index_stories});var Chip=__webpack_require__("./node_modules/.pnpm/@mui+material@5.14.0_@emotion+react@11.11.1_@emotion+styled@11.11.0_@types+react@18.2.8_react-dom@18.2.0_react@18.2.0/node_modules/@mui/material/Chip/Chip.js"),react=__webpack_require__("./node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),TextField=__webpack_require__("./node_modules/.pnpm/@mui+material@5.14.0_@emotion+react@11.11.1_@emotion+styled@11.11.0_@types+react@18.2.8_react-dom@18.2.0_react@18.2.0/node_modules/@mui/material/TextField/TextField.js"),Box=__webpack_require__("./node_modules/.pnpm/@mui+material@5.14.0_@emotion+react@11.11.1_@emotion+styled@11.11.0_@types+react@18.2.8_react-dom@18.2.0_react@18.2.0/node_modules/@mui/material/Box/Box.js"),EasyCascader=__webpack_require__("./src/EasyCascader/index.tsx"),EasyList=__webpack_require__("./src/EasyList/index.tsx"),EasyPopper=__webpack_require__("./src/EasyPopper/index.tsx");function c(u,e,c){var i=this,a=(0,react.useRef)(null),o=(0,react.useRef)(0),f=(0,react.useRef)(null),l=(0,react.useRef)([]),m=(0,react.useRef)(),v=(0,react.useRef)(),d=(0,react.useRef)(u),p=(0,react.useRef)(!0);(0,react.useEffect)((function(){d.current=u}),[u]);var g=!e&&0!==e&&"undefined"!=typeof window;if("function"!=typeof u)throw new TypeError("Expected a function");e=+e||0;var w=!!(c=c||{}).leading,s=!("trailing"in c)||!!c.trailing,x="maxWait"in c,y=x?Math.max(+c.maxWait||0,e):null;(0,react.useEffect)((function(){return p.current=!0,function(){p.current=!1}}),[]);var h=(0,react.useMemo)((function(){var r=function(r){var n=l.current,t=m.current;return l.current=m.current=null,o.current=r,v.current=d.current.apply(t,n)},n=function(r,n){g&&cancelAnimationFrame(f.current),f.current=g?requestAnimationFrame(r):setTimeout(r,n)},t=function(r){if(!p.current)return!1;var n=r-a.current;return!a.current||n>=e||n<0||x&&r-o.current>=y},u=function(n){return f.current=null,s&&l.current?r(n):(l.current=m.current=null,v.current)},c=function r(){var c=Date.now();if(t(c))return u(c);if(p.current){var i=e-(c-a.current),f=x?Math.min(i,y-(c-o.current)):i;n(r,f)}},h=function(){var u=Date.now(),d=t(u);if(l.current=[].slice.call(arguments),m.current=i,a.current=u,d){if(!f.current&&p.current)return o.current=a.current,n(c,e),w?r(a.current):v.current;if(x)return n(c,e),r(a.current)}return f.current||n(c,e),v.current};return h.cancel=function(){f.current&&(g?cancelAnimationFrame(f.current):clearTimeout(f.current)),o.current=0,l.current=a.current=m.current=f.current=null},h.isPending=function(){return!!f.current},h.flush=function(){return f.current?u(Date.now()):v.current},h}),[w,x,e,y,s,g]);return h}function i(r,n){return r===n}function a(r){return"function"==typeof r?function(){return r}:r}var keyboardEvent=__webpack_require__("./src/EasyList/keyboardEvent.ts"),jsx_runtime=__webpack_require__("./node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");function EasyCascaderInput(props){const[isSearch,setIsSearch]=(0,react.useState)(!1),[search,setSearch]=(0,react.useState)(""),[debouncedSearch]=function o(n,t,o){var f,l,m=o&&o.equalityFn||i,v=(f=(0,react.useState)(a(n)),l=f[1],[f[0],(0,react.useCallback)((function(r){return l(a(r))}),[])]),d=v[0],p=v[1],g=c((0,react.useCallback)((function(r){return p(r)}),[p]),t,o),w=(0,react.useRef)(n);return m(w.current,n)||(g(n),w.current=n),[d,g]}(search,500),[focused,setFocused]=(0,react.useState)(!1),anchorRef=(0,react.useRef)(null),{value,onChange,label,error,disabled,required,helperText,displayPath,...duplication}=props,{getNodeLabel,data}=duplication,defaultSelectedId=value?.id??null,[selectedId,setSelectedId]=(0,react.useState)(defaultSelectedId),onSelect=id=>{if(null===id)return;const node=data.find((node=>node.id===id));if(!node)return;const isLeaf=0===node?.childrenId?.length||!node?.childrenId;setSelectedId(id),setHoverId(id),isLeaf&&(onChange(node),setFocused(!1),setIsSearch(!1)),setSearch("")},[hoverId,setHoverId]=(0,react.useState)(defaultSelectedId),textValue=(0,react.useMemo)((()=>{if(null===value)return"";const x=data.find((node=>node.id===selectedId));if(!x)return"";if(!displayPath)return getNodeLabel(x);const text=[...x.pathId||[],x.id]?.map((id=>{const node=data.find((node=>node.id===id));return node?getNodeLabel(node):""})).join(" / ");return text}),[data,selectedId,getNodeLabel,value,displayPath]),listRef=(0,react.useRef)(null),cascaderRef=(0,react.useRef)(null);return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(TextField.Z,{onKeyDown:e=>{if(!focused)return;if(!!debouncedSearch){const id=(0,keyboardEvent.v)(e,listRef.current?.filterData||[],hoverId,setHoverId);onSelect(id)}else{const id=(0,keyboardEvent.v)(e,cascaderRef.current?.filterData||[],hoverId,setHoverId);onSelect(id)}},focused,autoComplete:"off",label,error,disabled,required,helperText,onFocus:()=>{setFocused(!0),setIsSearch(!0),setSelectedId(value?.id??null)},ref:anchorRef,placeholder:isSearch&&value?textValue:"",value:isSearch?search:textValue,onChange:e=>{setSearch(e.target.value)}}),(0,jsx_runtime.jsx)(EasyPopper.G,{anchorRef,open:focused,onClose:()=>{setFocused(!1),setIsSearch(!1),setSearch("")},children:(0,jsx_runtime.jsx)(Box.Z,{children:debouncedSearch?(0,jsx_runtime.jsx)(EasyList.r,{...duplication,search:debouncedSearch,selectedId,hoverId,onSelect,ref:listRef}):(0,jsx_runtime.jsx)(EasyCascader.l,{...duplication,selectedId,hoverId,setSelectedId:onSelect,ref:cascaderRef})})})]})}try{EasyCascaderInput.displayName="EasyCascaderInput",EasyCascaderInput.__docgenInfo={description:"",displayName:"EasyCascaderInput",props:{data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"OptionT[]"}},getNodeLabel:{defaultValue:null,description:"",name:"getNodeLabel",required:!0,type:{name:"(node: OptionT) => string"}},startAdornment:{defaultValue:null,description:"",name:"startAdornment",required:!1,type:{name:"((node: OptionT) => ReactNode)"}},endAdornment:{defaultValue:null,description:"",name:"endAdornment",required:!1,type:{name:"((node: OptionT) => ReactNode)"}},label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"ReactNode"}},error:{defaultValue:null,description:"",name:"error",required:!1,type:{name:"boolean"}},helperText:{defaultValue:null,description:"",name:"helperText",required:!1,type:{name:"ReactNode"}},required:{defaultValue:null,description:"",name:"required",required:!1,type:{name:"boolean"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},displayPath:{defaultValue:null,description:"",name:"displayPath",required:!1,type:{name:"boolean"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"EasyCascaderBaseNode | null"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(value: OptionT | null) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/EasyCascaderInput/index.tsx#EasyCascaderInput"]={docgenInfo:EasyCascaderInput.__docgenInfo,name:"EasyCascaderInput",path:"src/EasyCascaderInput/index.tsx#EasyCascaderInput"})}catch(__react_docgen_typescript_loader_error){}var mock=__webpack_require__("./src/mock.ts");const index_stories={title:"EasyCascaderInput",component:EasyCascaderInput},Defalut=()=>{const[value,onChange]=(0,react.useState)(mock.$[2]);return(0,jsx_runtime.jsx)(EasyCascaderInput,{data:mock.$,getNodeLabel:node=>node.name,endAdornment:node=>node.age&&(0,jsx_runtime.jsx)(Chip.Z,{label:node.age}),label:"label",value,onChange})};Defalut.displayName="Defalut";const DisplayPath=()=>{const[value,onChange]=(0,react.useState)(mock.$[1]);return(0,jsx_runtime.jsx)(EasyCascaderInput,{data:mock.$,getNodeLabel:node=>node.name,value,onChange,displayPath:!0})};DisplayPath.displayName="DisplayPath",Defalut.parameters={...Defalut.parameters,docs:{...Defalut.parameters?.docs,source:{originalSource:"() => {\n  const [value, onChange] = useState<MockObject | null>(mockObjectNodes[2]);\n  return <EasyCascaderInput<MockObject> data={mockObjectNodes} getNodeLabel={node => node.name} endAdornment={node => node.age && <Chip label={node.age} />} label={'label'} value={value} onChange={onChange} />;\n}",...Defalut.parameters?.docs?.source}}},DisplayPath.parameters={...DisplayPath.parameters,docs:{...DisplayPath.parameters?.docs,source:{originalSource:"() => {\n  const [value, onChange] = useState<MockObject | null>(mockObjectNodes[1]);\n  return <EasyCascaderInput<MockObject> data={mockObjectNodes} getNodeLabel={node => node.name} value={value} onChange={onChange} displayPath />;\n}",...DisplayPath.parameters?.docs?.source}}};const __namedExportsOrder=["Defalut","DisplayPath"]},"./src/EasyCascader/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{l:()=>EasyCascader});var _mui_material__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/.pnpm/@mui+material@5.14.0_@emotion+react@11.11.1_@emotion+styled@11.11.0_@types+react@18.2.8_react-dom@18.2.0_react@18.2.0/node_modules/@mui/material/Box/Box.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),src_EasyCascaderColumn__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/EasyCascaderColumn/index.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");const EasyCascader=(0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(EasyCascaderRaw);function EasyCascaderRaw(props,ref){const{selectedId,data,endAdornment,setSelectedId,startAdornment,getNodeLabel,hoverId}=props,selectedPathId=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((()=>{if(null==selectedId)return[];const selected=data.find((node=>node.id===selectedId));if(!selected)return[];const pathId=selected.pathId;return pathId&&0!==pathId.length?[...pathId,selectedId]:[selectedId]}),[selectedId,data]),rootId=data.filter((node=>!node.pathId||0===node.pathId.length)).map((node=>node.id)),filterData=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((()=>{if(null===selectedId)return data.filter((x=>rootId.includes(x.id)));const node=data.find((x=>x.id===selectedId));if(!node)return[];if(node?.childrenId&&0!==node.childrenId.length)return data.filter((x=>node?.childrenId?.includes(x.id)));{const parent=data.find((x=>x.childrenId?.includes(node?.id)));return data.filter((x=>parent?.childrenId?.includes(x.id)))}}),[data,rootId,selectedId]);return(0,react__WEBPACK_IMPORTED_MODULE_0__.useImperativeHandle)(ref,(()=>({filterData})),[filterData]),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_mui_material__WEBPACK_IMPORTED_MODULE_3__.Z,{display:"flex",children:new Array((selectedPathId?.length||0)+1).fill(null).map(((_,depth)=>{const activedId=selectedPathId?.[depth],parent=data.find((node=>node.id===selectedPathId?.[depth-1])),ids=0===depth?rootId:parent?.childrenId||[];return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(src_EasyCascaderColumn__WEBPACK_IMPORTED_MODULE_1__.u,{ids,data,activedId,onNodeClick:(node,selected)=>{selected||setSelectedId(node.id)},getNodeLabel,startAdornment,endAdornment,hoverId},depth)}))})}EasyCascaderRaw.displayName="EasyCascaderRaw";try{EasyCascader.displayName="EasyCascader",EasyCascader.__docgenInfo={description:"",displayName:"EasyCascader",props:{data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"T[]"}},getNodeLabel:{defaultValue:null,description:"",name:"getNodeLabel",required:!0,type:{name:"(node: T) => string"}},startAdornment:{defaultValue:null,description:"",name:"startAdornment",required:!1,type:{name:"((node: T) => ReactNode)"}},endAdornment:{defaultValue:null,description:"",name:"endAdornment",required:!1,type:{name:"((node: T) => ReactNode)"}},selectedId:{defaultValue:null,description:"",name:"selectedId",required:!0,type:{name:"EasyId | null"}},setSelectedId:{defaultValue:null,description:"",name:"setSelectedId",required:!0,type:{name:"(id: EasyId | null) => void"}},hoverId:{defaultValue:null,description:"",name:"hoverId",required:!1,type:{name:"EasyId | null"}},ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"ForwardedRef<EasyKeyboardRefObject<T>>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/EasyCascader/index.tsx#EasyCascader"]={docgenInfo:EasyCascader.__docgenInfo,name:"EasyCascader",path:"src/EasyCascader/index.tsx#EasyCascader"})}catch(__react_docgen_typescript_loader_error){}},"./src/EasyCascaderColumn/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{u:()=>EasyCascaderColumn});var createSvgIcon=__webpack_require__("./node_modules/.pnpm/@mui+material@5.14.0_@emotion+react@11.11.1_@emotion+styled@11.11.0_@types+react@18.2.8_react-dom@18.2.0_react@18.2.0/node_modules/@mui/material/utils/createSvgIcon.js"),jsx_runtime=__webpack_require__("./node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");const KeyboardArrowRight=(0,createSvgIcon.Z)((0,jsx_runtime.jsx)("path",{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"KeyboardArrowRight");var useTheme=__webpack_require__("./node_modules/.pnpm/@mui+material@5.14.0_@emotion+react@11.11.1_@emotion+styled@11.11.0_@types+react@18.2.8_react-dom@18.2.0_react@18.2.0/node_modules/@mui/material/styles/useTheme.js"),Paper=__webpack_require__("./node_modules/.pnpm/@mui+material@5.14.0_@emotion+react@11.11.1_@emotion+styled@11.11.0_@types+react@18.2.8_react-dom@18.2.0_react@18.2.0/node_modules/@mui/material/Paper/Paper.js"),MenuList=__webpack_require__("./node_modules/.pnpm/@mui+material@5.14.0_@emotion+react@11.11.1_@emotion+styled@11.11.0_@types+react@18.2.8_react-dom@18.2.0_react@18.2.0/node_modules/@mui/material/MenuList/MenuList.js"),MenuItem=__webpack_require__("./node_modules/.pnpm/@mui+material@5.14.0_@emotion+react@11.11.1_@emotion+styled@11.11.0_@types+react@18.2.8_react-dom@18.2.0_react@18.2.0/node_modules/@mui/material/MenuItem/MenuItem.js"),objectWithoutPropertiesLoose=__webpack_require__("./node_modules/.pnpm/@babel+runtime@7.22.6/node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js"),esm_extends=__webpack_require__("./node_modules/.pnpm/@babel+runtime@7.22.6/node_modules/@babel/runtime/helpers/esm/extends.js"),react=__webpack_require__("./node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),clsx_m=__webpack_require__("./node_modules/.pnpm/clsx@1.2.1/node_modules/clsx/dist/clsx.m.js"),composeClasses=__webpack_require__("./node_modules/.pnpm/@mui+utils@5.13.7_react@18.2.0/node_modules/@mui/utils/esm/composeClasses/composeClasses.js"),Typography=__webpack_require__("./node_modules/.pnpm/@mui+material@5.14.0_@emotion+react@11.11.1_@emotion+styled@11.11.0_@types+react@18.2.8_react-dom@18.2.0_react@18.2.0/node_modules/@mui/material/Typography/Typography.js"),ListContext=__webpack_require__("./node_modules/.pnpm/@mui+material@5.14.0_@emotion+react@11.11.1_@emotion+styled@11.11.0_@types+react@18.2.8_react-dom@18.2.0_react@18.2.0/node_modules/@mui/material/List/ListContext.js"),useThemeProps=__webpack_require__("./node_modules/.pnpm/@mui+material@5.14.0_@emotion+react@11.11.1_@emotion+styled@11.11.0_@types+react@18.2.8_react-dom@18.2.0_react@18.2.0/node_modules/@mui/material/styles/useThemeProps.js"),styled=__webpack_require__("./node_modules/.pnpm/@mui+material@5.14.0_@emotion+react@11.11.1_@emotion+styled@11.11.0_@types+react@18.2.8_react-dom@18.2.0_react@18.2.0/node_modules/@mui/material/styles/styled.js"),listItemTextClasses=__webpack_require__("./node_modules/.pnpm/@mui+material@5.14.0_@emotion+react@11.11.1_@emotion+styled@11.11.0_@types+react@18.2.8_react-dom@18.2.0_react@18.2.0/node_modules/@mui/material/ListItemText/listItemTextClasses.js");const _excluded=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],ListItemTextRoot=(0,styled.ZP)("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(props,styles)=>{const{ownerState}=props;return[{[`& .${listItemTextClasses.Z.primary}`]:styles.primary},{[`& .${listItemTextClasses.Z.secondary}`]:styles.secondary},styles.root,ownerState.inset&&styles.inset,ownerState.primary&&ownerState.secondary&&styles.multiline,ownerState.dense&&styles.dense]}})((({ownerState})=>(0,esm_extends.Z)({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},ownerState.primary&&ownerState.secondary&&{marginTop:6,marginBottom:6},ownerState.inset&&{paddingLeft:56}))),ListItemText_ListItemText=react.forwardRef((function ListItemText(inProps,ref){const props=(0,useThemeProps.Z)({props:inProps,name:"MuiListItemText"}),{children,className,disableTypography=!1,inset=!1,primary:primaryProp,primaryTypographyProps,secondary:secondaryProp,secondaryTypographyProps}=props,other=(0,objectWithoutPropertiesLoose.Z)(props,_excluded),{dense}=react.useContext(ListContext.Z);let primary=null!=primaryProp?primaryProp:children,secondary=secondaryProp;const ownerState=(0,esm_extends.Z)({},props,{disableTypography,inset,primary:!!primary,secondary:!!secondary,dense}),classes=(ownerState=>{const{classes,inset,primary,secondary,dense}=ownerState,slots={root:["root",inset&&"inset",dense&&"dense",primary&&secondary&&"multiline"],primary:["primary"],secondary:["secondary"]};return(0,composeClasses.Z)(slots,listItemTextClasses.L,classes)})(ownerState);return null==primary||primary.type===Typography.Z||disableTypography||(primary=(0,jsx_runtime.jsx)(Typography.Z,(0,esm_extends.Z)({variant:dense?"body2":"body1",className:classes.primary,component:null!=primaryTypographyProps&&primaryTypographyProps.variant?void 0:"span",display:"block"},primaryTypographyProps,{children:primary}))),null==secondary||secondary.type===Typography.Z||disableTypography||(secondary=(0,jsx_runtime.jsx)(Typography.Z,(0,esm_extends.Z)({variant:"body2",className:classes.secondary,color:"text.secondary",display:"block"},secondaryTypographyProps,{children:secondary}))),(0,jsx_runtime.jsxs)(ListItemTextRoot,(0,esm_extends.Z)({className:(0,clsx_m.Z)(classes.root,className),ownerState,ref},other,{children:[primary,secondary]}))}));function EasyCascaderColumn({ids,data,onNodeClick,activedId,endAdornment,startAdornment,getNodeLabel,hoverId}){const currentNodes=data.filter((node=>ids.includes(node.id))),{palette}=(0,useTheme.Z)();return(0,jsx_runtime.jsx)(Paper.Z,{children:(0,jsx_runtime.jsx)(MenuList.Z,{children:currentNodes.map((node=>{const selected=activedId===node.id;return(0,jsx_runtime.jsxs)(MenuItem.Z,{selected,onClick:()=>{onNodeClick(node,selected)},sx:{background:hoverId!==node.id||selected?void 0:palette.action.hover},children:[(0,jsx_runtime.jsxs)(ListItemText_ListItemText,{sx:{"& span":{fontWeight:selected?"bold":"normal"}},children:[startAdornment?.(node),getNodeLabel(node),endAdornment?.(node)]}),node.childrenId&&0!==node.childrenId.length&&(0,jsx_runtime.jsx)(KeyboardArrowRight,{color:selected?"primary":"disabled"})]},node.id)}))})})}EasyCascaderColumn.displayName="EasyCascaderColumn";try{EasyCascaderColumn.displayName="EasyCascaderColumn",EasyCascaderColumn.__docgenInfo={description:"",displayName:"EasyCascaderColumn",props:{ids:{defaultValue:null,description:"",name:"ids",required:!0,type:{name:"EasyId[]"}},activedId:{defaultValue:null,description:"",name:"activedId",required:!1,type:{name:"EasyId | null"}},onNodeClick:{defaultValue:null,description:"",name:"onNodeClick",required:!0,type:{name:"(node: T, selected: boolean) => void"}},hoverId:{defaultValue:null,description:"",name:"hoverId",required:!1,type:{name:"EasyId | null"}},data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"T[]"}},getNodeLabel:{defaultValue:null,description:"",name:"getNodeLabel",required:!0,type:{name:"(node: T) => string"}},startAdornment:{defaultValue:null,description:"",name:"startAdornment",required:!1,type:{name:"((node: T) => ReactNode)"}},endAdornment:{defaultValue:null,description:"",name:"endAdornment",required:!1,type:{name:"((node: T) => ReactNode)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/EasyCascaderColumn/index.tsx#EasyCascaderColumn"]={docgenInfo:EasyCascaderColumn.__docgenInfo,name:"EasyCascaderColumn",path:"src/EasyCascaderColumn/index.tsx#EasyCascaderColumn"})}catch(__react_docgen_typescript_loader_error){}},"./src/EasyHighlight/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{X:()=>EasyHighlight});var _mui_material__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/@mui+material@5.14.0_@emotion+react@11.11.1_@emotion+styled@11.11.0_@types+react@18.2.8_react-dom@18.2.0_react@18.2.0/node_modules/@mui/material/styles/styled.js"),_mui_material__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/.pnpm/@mui+material@5.14.0_@emotion+react@11.11.1_@emotion+styled@11.11.0_@types+react@18.2.8_react-dom@18.2.0_react@18.2.0/node_modules/@mui/material/Box/Box.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");const StyledMark=(0,_mui_material__WEBPACK_IMPORTED_MODULE_1__.ZP)("mark")((({focused})=>({backgroundColor:"#fde79b",...focused&&{color:"#FAAD14"}})));function EasyHighlight(props){const{search,focused,text}=props,stringArray=search?text.split(new RegExp(`(${search})`,"g")):[text];return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_mui_material__WEBPACK_IMPORTED_MODULE_2__.Z,{children:stringArray.map(((string,index)=>string===search?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(StyledMark,{focused,children:string},index):string))})}EasyHighlight.displayName="EasyHighlight";try{EasyHighlight.displayName="EasyHighlight",EasyHighlight.__docgenInfo={description:"",displayName:"EasyHighlight",props:{search:{defaultValue:null,description:"",name:"search",required:!0,type:{name:"string | undefined"}},focused:{defaultValue:null,description:"",name:"focused",required:!1,type:{name:"boolean"}},text:{defaultValue:null,description:"",name:"text",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/EasyHighlight/index.tsx#EasyHighlight"]={docgenInfo:EasyHighlight.__docgenInfo,name:"EasyHighlight",path:"src/EasyHighlight/index.tsx#EasyHighlight"})}catch(__react_docgen_typescript_loader_error){}},"./src/EasyList/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{r:()=>EasyList});var _mui_material__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/.pnpm/@mui+material@5.14.0_@emotion+react@11.11.1_@emotion+styled@11.11.0_@types+react@18.2.8_react-dom@18.2.0_react@18.2.0/node_modules/@mui/material/styles/useTheme.js"),_mui_material__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/.pnpm/@mui+material@5.14.0_@emotion+react@11.11.1_@emotion+styled@11.11.0_@types+react@18.2.8_react-dom@18.2.0_react@18.2.0/node_modules/@mui/material/Paper/Paper.js"),_mui_material__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/.pnpm/@mui+material@5.14.0_@emotion+react@11.11.1_@emotion+styled@11.11.0_@types+react@18.2.8_react-dom@18.2.0_react@18.2.0/node_modules/@mui/material/MenuList/MenuList.js"),_mui_material__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/.pnpm/@mui+material@5.14.0_@emotion+react@11.11.1_@emotion+styled@11.11.0_@types+react@18.2.8_react-dom@18.2.0_react@18.2.0/node_modules/@mui/material/MenuItem/MenuItem.js"),_mui_material__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/.pnpm/@mui+material@5.14.0_@emotion+react@11.11.1_@emotion+styled@11.11.0_@types+react@18.2.8_react-dom@18.2.0_react@18.2.0/node_modules/@mui/material/Box/Box.js"),_mui_material__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/.pnpm/@mui+material@5.14.0_@emotion+react@11.11.1_@emotion+styled@11.11.0_@types+react@18.2.8_react-dom@18.2.0_react@18.2.0/node_modules/@mui/material/Typography/Typography.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),src_EasyHighlight__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/EasyHighlight/index.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");const EasyList=(0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(EasyListRaw);function EasyListRaw(props,ref){const{data,endAdornment,startAdornment,search,getNodeLabel,selectedId,onSelect,hoverId}=props,{palette}=(0,_mui_material__WEBPACK_IMPORTED_MODULE_3__.Z)(),filterData=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((()=>function filterKeywordLastNodes(fullData,getNodeLabel,debouncedSearch){const res=[];return fullData.forEach((node=>{getNodeLabel(node).includes(debouncedSearch)&&(res.push(node),node.pathId?.forEach((parentId=>{const index=res.findIndex((x=>x.id===parentId));index>-1&&res.splice(index,1)})))})),res}(data,getNodeLabel,search)),[data,getNodeLabel,search]);return(0,react__WEBPACK_IMPORTED_MODULE_0__.useImperativeHandle)(ref,(()=>({filterData})),[filterData]),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_mui_material__WEBPACK_IMPORTED_MODULE_4__.Z,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_mui_material__WEBPACK_IMPORTED_MODULE_5__.Z,{children:filterData.map((node=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_mui_material__WEBPACK_IMPORTED_MODULE_6__.Z,{selected:node.id===selectedId,onClick:()=>{onSelect(node.id)},sx:{background:hoverId===node.id?palette.action.hover:void 0},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_mui_material__WEBPACK_IMPORTED_MODULE_7__.Z,{sx:{display:"flex",gap:1},children:[...node.pathId||[],node.id]?.map(((id,index)=>{const pathNode=data.find((x=>x.id===id)),text=pathNode?getNodeLabel(pathNode):"";return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,{children:[startAdornment?.(node),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(src_EasyHighlight__WEBPACK_IMPORTED_MODULE_1__.X,{text,search}),endAdornment?.(node),index!==(node.pathId?.length||0)&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_mui_material__WEBPACK_IMPORTED_MODULE_8__.Z,{component:"div",color:"text.disabled",children:"/"})]},id)}))})},node.id)))})})}EasyListRaw.displayName="EasyListRaw";try{EasyList.displayName="EasyList",EasyList.__docgenInfo={description:"",displayName:"EasyList",props:{search:{defaultValue:null,description:"",name:"search",required:!0,type:{name:"string"}},selectedId:{defaultValue:null,description:"",name:"selectedId",required:!0,type:{name:"EasyId | null"}},onSelect:{defaultValue:null,description:"",name:"onSelect",required:!0,type:{name:"(id: EasyId | null) => void"}},hoverId:{defaultValue:null,description:"",name:"hoverId",required:!1,type:{name:"EasyId | null"}},data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"T[]"}},getNodeLabel:{defaultValue:null,description:"",name:"getNodeLabel",required:!0,type:{name:"(node: T) => string"}},startAdornment:{defaultValue:null,description:"",name:"startAdornment",required:!1,type:{name:"((node: T) => ReactNode)"}},endAdornment:{defaultValue:null,description:"",name:"endAdornment",required:!1,type:{name:"((node: T) => ReactNode)"}},ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"ForwardedRef<EasyKeyboardRefObject<T>>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/EasyList/index.tsx#EasyList"]={docgenInfo:EasyList.__docgenInfo,name:"EasyList",path:"src/EasyList/index.tsx#EasyList"})}catch(__react_docgen_typescript_loader_error){}},"./src/EasyList/keyboardEvent.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function keyboardEvent(e,filterData,hoverId,setHoverId){const index=filterData.findIndex((node=>node.id===hoverId));switch(e.key){case"Enter":return hoverId;case"ArrowDown":return setHoverId(filterData[index+1]?.id??filterData[0]?.id),null;case"ArrowUp":return setHoverId(filterData[index-1]?.id??filterData[filterData.length-1]?.id),null;default:return null}}__webpack_require__.d(__webpack_exports__,{v:()=>keyboardEvent})},"./src/EasyPopper/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{G:()=>EasyPopper});var _mui_material__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/.pnpm/@mui+material@5.14.0_@emotion+react@11.11.1_@emotion+styled@11.11.0_@types+react@18.2.8_react-dom@18.2.0_react@18.2.0/node_modules/@mui/material/Popper/Popper.js"),_mui_material__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/.pnpm/@mui+material@5.14.0_@emotion+react@11.11.1_@emotion+styled@11.11.0_@types+react@18.2.8_react-dom@18.2.0_react@18.2.0/node_modules/@mui/material/Grow/Grow.js"),_mui_material__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/.pnpm/@mui+material@5.14.0_@emotion+react@11.11.1_@emotion+styled@11.11.0_@types+react@18.2.8_react-dom@18.2.0_react@18.2.0/node_modules/@mui/material/Box/Box.js"),_mui_material__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/.pnpm/@mui+base@5.0.0-beta.7_@types+react@18.2.8_react-dom@18.2.0_react@18.2.0/node_modules/@mui/base/ClickAwayListener/ClickAwayListener.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=(__webpack_require__("./node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),__webpack_require__("./node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js"));function EasyPopper({children,anchorRef,onClose,open}){const handleClose=event=>{anchorRef.current&&anchorRef.current.contains(event.target)||onClose()};return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_mui_material__WEBPACK_IMPORTED_MODULE_2__.Z,{sx:{zIndex:1e3},open,anchorEl:anchorRef.current,transition:!0,disablePortal:!0,placement:"bottom-start",children:({TransitionProps,placement})=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_mui_material__WEBPACK_IMPORTED_MODULE_3__.Z,{...TransitionProps,style:{transformOrigin:"bottom-start"===placement?"left top":"left bottom"},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_mui_material__WEBPACK_IMPORTED_MODULE_4__.Z,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_mui_material__WEBPACK_IMPORTED_MODULE_5__.Z,{onClickAway:handleClose,children})})})})}EasyPopper.displayName="EasyPopper";try{EasyPopper.displayName="EasyPopper",EasyPopper.__docgenInfo={description:"",displayName:"EasyPopper",props:{anchorRef:{defaultValue:null,description:"",name:"anchorRef",required:!0,type:{name:"RefObject<HTMLButtonElement>"}},open:{defaultValue:null,description:"",name:"open",required:!0,type:{name:"boolean"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"() => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/EasyPopper/index.tsx#EasyPopper"]={docgenInfo:EasyPopper.__docgenInfo,name:"EasyPopper",path:"src/EasyPopper/index.tsx#EasyPopper"})}catch(__react_docgen_typescript_loader_error){}},"./src/mock.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{$:()=>mockObjectNodes});const mockObjectNodes=[{id:0,name:"parent-0",age:100,childrenId:[1,2,4]},{id:1,name:"children-0",pathId:[0],childrenId:[5]},{id:2,name:"children-1",pathId:[0],age:10},{id:4,name:"children-2",pathId:[0]},{id:3,name:"parent-1"},{id:5,name:"leaf",pathId:[0,1]}]}}]);
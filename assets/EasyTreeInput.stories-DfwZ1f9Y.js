import{j as t}from"./jsx-runtime-D_zvdyIk.js";import{S as O,C as V}from"./Chip-Clv39w7o.js";import{r as o,R as D}from"./index-D4lIrffr.js";import{C as G}from"./Clear-BUCB0isB.js";import{a as H,I as J}from"./index.module-DrHIWsir.js";import{E as K}from"./EasyFlatList-F0hz_18W.js";import{E as Q}from"./EasyPopper-BKiWhjqv.js";import{i as E,B as U}from"./isLeafNode-BynM3cPO.js";import{E as W}from"./EasyTree-GIv8hmAR.js";import{u as X,T as Y}from"./TextField-CfsmE4kW.js";import{P as Z}from"./Paper-Cm1zrjdt.js";import{m as S}from"./mock-BA6x8glS.js";import"./CircularProgress-_geyx4et.js";import"./EasyHighlight-CeowNmLs.js";import"./Grow-DCIzZode.js";import"./useTheme-C1eaTmxe.js";import"./index-BQQLSK9g.js";import"./index-DsJinFGm.js";import"./utils-V0gmEr-R.js";import"./getRootIds-BDZTszT8.js";function x(e){const[a,s]=o.useState(""),[T]=H(a,500),{value:n,onChange:j,label:A,error:L,disabled:c,required:w,helperText:R,autoFocus:F,sx:P,...f}=e,{getNodeLabel:l,data:d}=f,[q,h]=o.useState(n?.id??null),v=r=>{if(!r)return;h(r.id),E(r)&&(j(r),C(!0)),s("")},[I,g]=o.useState(null),y=!!I,_=o.useMemo(()=>y?a:n===null?"":[...n.pathId||[],n.id].map(u=>{const i=d.find(b=>b.id===u);return i?l(i):""}).join(" / "),[d,l,n,y,a]),B=o.useMemo(()=>n===null?"":[...n.pathId||[],n.id].map(u=>{const i=d.find(b=>b.id===u);return i?l(i):""}).join(" / "),[d,n,l]),C=r=>{g(null),s(""),r||h(n?.id??null)},{focused:k}=X()||{},[z,M]=o.useState([0]);return t.jsxs(t.Fragment,{children:[t.jsx(Y,{variant:"standard",autoComplete:"off",label:A,error:L,disabled:c,required:w,helperText:R,focused:y,placeholder:B,value:_,onChange:r=>{s(r.target.value)},autoFocus:F,sx:{...P,":hover .MuiButtonBase-root":{visibility:n&&!c?"visible":"hidden"}},slotProps:{input:{onClick:r=>{c||g(r.currentTarget)},endAdornment:t.jsx(J,{size:"small",sx:{visibility:k&&n?"visible":"hidden"},onClick:r=>{r.stopPropagation(),j(null),h(null),g(null)},children:t.jsx(G,{fontSize:"small"})})}}}),t.jsx(Q,{anchorEl:I,onClose:()=>{C(!1)},children:t.jsx(Z,{children:T?t.jsx(K,{...f,selectedId:q,onSelect:v,search:T,autoFocusItem:!0}):t.jsx(W,{...f,selectedId:q,onSelect:v,expandedId:z,setExpandedId:M,selectMode:"leafOnly"})})})]})}x.__docgenInfo={description:"",methods:[],displayName:"EasyTreeInput",props:{data:{required:!0,tsType:{name:"Array",elements:[{name:"T"}],raw:"T[]"},description:"all nodes data"},getNodeLabel:{required:!0,tsType:{name:"signature",type:"function",raw:"(node: T) => string",signature:{arguments:[{type:{name:"T"},name:"node"}],return:{name:"string"}}},description:"text to be displayed in the list"},startAdornment:{required:!1,tsType:{name:"signature",type:"function",raw:"(node: T, depth: number) => ReactNode",signature:{arguments:[{type:{name:"T"},name:"node"},{type:{name:"number"},name:"depth"}],return:{name:"ReactNode"}}},description:`start input adornment for the list
@param:
depth starts from 0
isLeaf is true if the node is a leaf node`},endAdornment:{required:!1,tsType:{name:"signature",type:"function",raw:"(node: T, depth: number) => ReactNode",signature:{arguments:[{type:{name:"T"},name:"node"},{type:{name:"number"},name:"depth"}],return:{name:"ReactNode"}}},description:`end input adornment for the list
@param:
depth starts from 0
isLeaf is true if the node is a leaf node`},label:{required:!1,tsType:{name:"ReactNode"},description:"a text or an element to be used in an enclosing label element"},error:{required:!1,tsType:{name:"boolean"},description:"if true, the helper text will be displayed in an error state"},helperText:{required:!1,tsType:{name:"ReactNode"},description:"text or an element to be used as a helper text"},required:{required:!1,tsType:{name:"boolean"},description:"if true, the helper text should use required classes key."},disabled:{required:!1,tsType:{name:"boolean"},description:"if true, the helper text should be displayed in a disabled state."},sx:{required:!1,tsType:{name:"SxProps"},description:""},autoFocus:{required:!1,tsType:{name:"boolean"},description:"If `true`, the `input` element is focused during the first mount."},value:{required:!0,tsType:{name:"union",raw:"T | null",elements:[{name:"T"},{name:"null"}]},description:'selected node, "id" is used to find the node in the data'},onChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(value: T | null) => void",signature:{arguments:[{type:{name:"union",raw:"T | null",elements:[{name:"T"},{name:"null"}]},name:"value"}],return:{name:"void"}}},description:"callback fired when the value changes"}}};const xe={title:"Tree/EasyTreeInput",component:x,decorators:[e=>t.jsx(U,{sx:{width:400,height:300},children:t.jsx(e,{})})],args:{data:S,getNodeLabel:e=>e.name,error:!1,required:!1,disabled:!1,helperText:"",label:"",autoFocus:!1},argTypes:{data:{table:{category:"common props"}},getNodeLabel:{table:{category:"common props"}},endAdornment:{table:{category:"common props"}},startAdornment:{table:{category:"common props"}},error:{table:{category:"for input"}},label:{type:"string",table:{category:"for input"}},required:{table:{category:"for input"}},disabled:{table:{category:"for input"}},helperText:{type:"string",table:{category:"for input"}},sx:{control:!1,table:{category:"for input"}},value:{control:!1,table:{type:{summary:"T | null"}}}}},N=e=>{const[a,s]=D.useState(S[2]);return t.jsx(x,{...e,value:a,onChange:s})},p={render:e=>t.jsx(N,{...e})},m={render:e=>t.jsx(N,{...e}),args:{endAdornment:(e,a)=>!e.age||!E(e)?null:t.jsx(V,{color:"success",size:"small",label:e.age}),startAdornment:(e,a)=>a===1?t.jsx(O,{color:"error"}):null}};p.parameters={...p.parameters,docs:{...p.parameters?.docs,source:{originalSource:`{
  render: args => <Template {...args} />
}`,...p.parameters?.docs?.source}}};m.parameters={...m.parameters,docs:{...m.parameters?.docs,source:{originalSource:`{
  render: args => <Template {...args} />,
  args: {
    endAdornment: (node, _) => {
      if (!node.age) return null;
      if (!isLeafNode(node)) return null;
      return <Chip color="success" size="small" label={node.age} />;
    },
    startAdornment: (_, depth) => {
      if (depth === 1) return <StarOutline color="error" />;
      return null;
    }
  }
}`,...m.parameters?.docs?.source}}};const Te=["Default","Adornment"];export{m as Adornment,p as Default,Te as __namedExportsOrder,xe as default};

import{r as B,m as I,a as J,u as Q}from"./useTheme-C1eaTmxe.js";import{o as C,C as A,z as U}from"./isLeafNode-BynM3cPO.js";import{r}from"./index-D4lIrffr.js";import{j as X}from"./jsx-runtime-D_zvdyIk.js";import{r as Y}from"./index-BQQLSK9g.js";import{T as Z,g as D,r as tt}from"./utils-V0gmEr-R.js";function H(t,u){typeof t=="function"?t(u):t&&(t.current=u)}function ct(t){const{elementType:u,externalSlotProps:l,ownerState:e,skipResolvingSlotProps:d=!1,...i}=t,o=d?{}:B(l,e),{props:p,internalRef:m}=I({...i,externalSlotProps:o}),y=C(m,o?.ref,t.additionalProps?.ref);return J(u,{...p,ref:y},e)}function F(t){return parseInt(r.version,10)>=19?t?.props?.ref||null:t?.ref||null}const nt=r.createContext(),ft=()=>r.useContext(nt)??!1;function et(t){return typeof t=="function"?t():t}const dt=r.forwardRef(function(u,l){const{children:e,container:d,disablePortal:i=!1}=u,[o,p]=r.useState(null),m=C(r.isValidElement(e)?F(e):null,l);if(A(()=>{i||p(et(d)||document.body)},[d,i]),A(()=>{if(o&&!i)return H(l,o),()=>{H(l,null)}},[l,o,i]),i){if(r.isValidElement(e)){const y={ref:m};return r.cloneElement(e,y)}return e}return o&&Y.createPortal(e,o)});function T(t){return`scale(${t}, ${t**2})`}const ot={entering:{opacity:1,transform:T(1)},entered:{opacity:1,transform:"none"}},S=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),b=r.forwardRef(function(u,l){const{addEndListener:e,appear:d=!0,children:i,easing:o,in:p,onEnter:m,onEntered:y,onEntering:w,onExit:j,onExited:G,onExiting:L,style:R,timeout:c="auto",TransitionComponent:z=Z,...N}=u,V=U(),v=r.useRef(),g=Q(),x=r.useRef(null),$=C(x,F(i),l),E=n=>f=>{if(n){const s=x.current;f===void 0?n(s):n(s,f)}},k=E(w),K=E((n,f)=>{tt(n);const{duration:s,delay:P,easing:a}=D({style:R,timeout:c,easing:o},{mode:"enter"});let h;c==="auto"?(h=g.transitions.getAutoHeightDuration(n.clientHeight),v.current=h):h=s,n.style.transition=[g.transitions.create("opacity",{duration:h,delay:P}),g.transitions.create("transform",{duration:S?h:h*.666,delay:P,easing:a})].join(","),m&&m(n,f)}),M=E(y),O=E(L),W=E(n=>{const{duration:f,delay:s,easing:P}=D({style:R,timeout:c,easing:o},{mode:"exit"});let a;c==="auto"?(a=g.transitions.getAutoHeightDuration(n.clientHeight),v.current=a):a=f,n.style.transition=[g.transitions.create("opacity",{duration:a,delay:s}),g.transitions.create("transform",{duration:S?a:a*.666,delay:S?s:s||a*.333,easing:P})].join(","),n.style.opacity=0,n.style.transform=T(.75),j&&j(n)}),_=E(G),q=n=>{c==="auto"&&V.start(v.current||0,n),e&&e(x.current,n)};return X.jsx(z,{appear:d,in:p,nodeRef:x,onEnter:K,onEntered:M,onEntering:k,onExit:W,onExited:_,onExiting:O,addEndListener:q,timeout:c==="auto"?null:c,...N,children:(n,{ownerState:f,...s})=>r.cloneElement(i,{style:{opacity:0,transform:T(.75),visibility:n==="exited"&&!p?"hidden":void 0,...ot[n],...R,...i.props.style},ref:$,...s})})});b&&(b.muiSupportAuto=!0);export{b as G,dt as P,ct as a,F as g,ft as u};

import{j as i}from"./jsx-runtime-D_zvdyIk.js";import{r as y}from"./index-D4lIrffr.js";import{a as se}from"./index.module-DrHIWsir.js";import{K as ie,L as oe,g as de}from"./getRootIds-BDZTszT8.js";import{c as le}from"./mock-BA6x8glS.js";import{E as ue}from"./EasyHighlight-CeowNmLs.js";import{g as me,b as ce,u as K,y as pe,z as fe,o as ge,s as D,d as P,e as _,m as G,L as ye,A as he,a as we,i as U,B as xe,M as Te}from"./isLeafNode-BynM3cPO.js";import{u as Ie}from"./useTheme-C1eaTmxe.js";import{T as be,g as B}from"./utils-V0gmEr-R.js";const ve=le(i.jsx("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6z"}));function Ee(n){return me("MuiCollapse",n)}ce("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const Se=n=>{const{orientation:e,classes:r}=n,d={root:["root",`${e}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${e}`],wrapperInner:["wrapperInner",`${e}`]};return _(d,Ee,r)},Re=D("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:r}=n;return[e.root,e[r.orientation],r.state==="entered"&&e.entered,r.state==="exited"&&!r.in&&r.collapsedSize==="0px"&&e.hidden]}})(G(({theme:n})=>({height:0,overflow:"hidden",transition:n.transitions.create("height"),variants:[{props:{orientation:"horizontal"},style:{height:"auto",width:0,transition:n.transitions.create("width")}},{props:{state:"entered"},style:{height:"auto",overflow:"visible"}},{props:{state:"entered",orientation:"horizontal"},style:{width:"auto"}},{props:({ownerState:e})=>e.state==="exited"&&!e.in&&e.collapsedSize==="0px",style:{visibility:"hidden"}}]}))),Ne=D("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(n,e)=>e.wrapper})({display:"flex",width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),Le=D("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(n,e)=>e.wrapperInner})({width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),W=y.forwardRef(function(e,r){const d=K({props:e,name:"MuiCollapse"}),{addEndListener:c,children:m,className:s,collapsedSize:a="0px",component:u,easing:w,in:N,onEnter:x,onEntered:L,onEntering:C,onExit:l,onExited:q,onExiting:T,orientation:I="vertical",style:o,timeout:g=pe.standard,TransitionComponent:J=be,...Q}=d,j={...d,orientation:I,collapsedSize:a},v=Se(j),O=Ie(),V=fe(),h=y.useRef(null),$=y.useRef(),z=typeof a=="number"?`${a}px`:a,E=I==="horizontal",S=E?"width":"height",M=y.useRef(null),X=ge(r,M),b=t=>p=>{if(t){const f=M.current;p===void 0?t(f):t(f,p)}},F=()=>h.current?h.current[E?"clientWidth":"clientHeight"]:0,Y=b((t,p)=>{h.current&&E&&(h.current.style.position="absolute"),t.style[S]=z,x&&x(t,p)}),Z=b((t,p)=>{const f=F();h.current&&E&&(h.current.style.position="");const{duration:R,easing:A}=B({style:o,timeout:g,easing:w},{mode:"enter"});if(g==="auto"){const H=O.transitions.getAutoHeightDuration(f);t.style.transitionDuration=`${H}ms`,$.current=H}else t.style.transitionDuration=typeof R=="string"?R:`${R}ms`;t.style[S]=`${f}px`,t.style.transitionTimingFunction=A,C&&C(t,p)}),ee=b((t,p)=>{t.style[S]="auto",L&&L(t,p)}),te=b(t=>{t.style[S]=`${F()}px`,l&&l(t)}),ne=b(q),re=b(t=>{const p=F(),{duration:f,easing:R}=B({style:o,timeout:g,easing:w},{mode:"exit"});if(g==="auto"){const A=O.transitions.getAutoHeightDuration(p);t.style.transitionDuration=`${A}ms`,$.current=A}else t.style.transitionDuration=typeof f=="string"?f:`${f}ms`;t.style[S]=z,t.style.transitionTimingFunction=R,T&&T(t)}),ae=t=>{g==="auto"&&V.start($.current||0,t),c&&c(M.current,t)};return i.jsx(J,{in:N,onEnter:Y,onEntered:ee,onEntering:Z,onExit:te,onExited:ne,onExiting:re,addEndListener:ae,nodeRef:M,timeout:g==="auto"?null:g,...Q,children:(t,{ownerState:p,...f})=>i.jsx(Re,{as:u,className:P(v.root,s,{entered:v.entered,exited:!N&&z==="0px"&&v.hidden}[t]),style:{[E?"minWidth":"minHeight"]:z,...o},ref:X,ownerState:{...j,state:t},...f,children:i.jsx(Ne,{ownerState:{...j,state:t},className:v.wrapper,ref:h,children:i.jsx(Le,{ownerState:{...j,state:t},className:v.wrapperInner,children:m})})})})});W&&(W.muiSupportAuto=!0);const Ce=n=>{const{alignItems:e,classes:r}=n;return _({root:["root",e==="flex-start"&&"alignItemsFlexStart"]},he,r)},qe=D("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:r}=n;return[e.root,r.alignItems==="flex-start"&&e.alignItemsFlexStart]}})(G(({theme:n})=>({minWidth:56,color:(n.vars||n).palette.action.active,flexShrink:0,display:"inline-flex",variants:[{props:{alignItems:"flex-start"},style:{marginTop:8}}]}))),je=y.forwardRef(function(e,r){const d=K({props:e,name:"MuiListItemIcon"}),{className:c,...m}=d,s=y.useContext(ye),a={...d,alignItems:s.alignItems},u=Ce(a);return i.jsx(qe,{className:P(u.root,c),ownerState:a,ref:r,...m})});function k({id:n,depth:e,...r}){const{data:d,getNodeLabel:c,endAdornment:m,startAdornment:s,expandedId:a,setExpandedId:u,selectMode:w="noSelect",selectedId:N,onSelect:x,actionButtons:L,search:C}=r,l=d.find(o=>o.id===n);if(!l)return null;const q=a.includes(l.id),T=N===l.id;function I(o){a.includes(o)?u(a.filter(g=>g!==o)):u([...a,o])}return i.jsxs(i.Fragment,{children:[i.jsxs(we,{sx:{paddingLeft:String(e*32)+"px","& button":{visibility:"hidden"},":hover":{"& button":{visibility:"visible"}}},selected:T,onClick:()=>{if(T){x?.(null);return}const o=U(l);switch(w){case"noSelect":o||I(n);return;case"leafOnly":o?x?.(l):I(n);return;case"all":x?.(l);return;default:return}},children:[i.jsx(je,{onClick:o=>{o.stopPropagation(),I(n)},children:U(l)?null:q?i.jsx(ve,{color:"disabled"}):i.jsx(ie,{color:"disabled"})}),i.jsx(oe,{primary:i.jsxs(xe,{sx:{display:"flex",gap:1,alignItems:"center"},children:[s?.(l,e),i.jsx(ue,{focused:T,text:c(l),search:C}),m?.(l,e)]})}),L?.(l)]}),i.jsx(W,{in:q,timeout:"auto",unmountOnExit:!0,children:l.childrenId?.map(o=>i.jsx(k,{id:o,depth:e+1,...r},o))})]})}k.__docgenInfo={description:"",methods:[],displayName:"EasyTreeItem",props:{id:{required:!0,tsType:{name:"union",raw:"number | string",elements:[{name:"number"},{name:"string"}]},description:""},depth:{required:!0,tsType:{name:"number"},description:""},data:{required:!0,tsType:{name:"Array",elements:[{name:"T"}],raw:"T[]"},description:"all nodes data"},getNodeLabel:{required:!0,tsType:{name:"signature",type:"function",raw:"(node: T) => string",signature:{arguments:[{type:{name:"T"},name:"node"}],return:{name:"string"}}},description:"text to be displayed in the list"},startAdornment:{required:!1,tsType:{name:"signature",type:"function",raw:"(node: T, depth: number) => ReactNode",signature:{arguments:[{type:{name:"T"},name:"node"},{type:{name:"number"},name:"depth"}],return:{name:"ReactNode"}}},description:`start input adornment for the list
@param:
depth starts from 0
isLeaf is true if the node is a leaf node`},endAdornment:{required:!1,tsType:{name:"signature",type:"function",raw:"(node: T, depth: number) => ReactNode",signature:{arguments:[{type:{name:"T"},name:"node"},{type:{name:"number"},name:"depth"}],return:{name:"ReactNode"}}},description:`end input adornment for the list
@param:
depth starts from 0
isLeaf is true if the node is a leaf node`},expandedId:{required:!0,tsType:{name:"Array",elements:[{name:"union",raw:"number | string",elements:[{name:"number"},{name:"string"}]}],raw:"EasyId[]"},description:""},setExpandedId:{required:!0,tsType:{name:"signature",type:"function",raw:"(id: EasyId[]) => void",signature:{arguments:[{type:{name:"Array",elements:[{name:"union",raw:"number | string",elements:[{name:"number"},{name:"string"}]}],raw:"EasyId[]"},name:"id"}],return:{name:"void"}}},description:""},selectedId:{required:!1,tsType:{name:"union",raw:"EasyId | null",elements:[{name:"union",raw:"number | string",elements:[{name:"number"},{name:"string"}]},{name:"null"}]},description:"related to 'selectMode'"},onSelect:{required:!1,tsType:{name:"signature",type:"function",raw:"(node: T | null) => void",signature:{arguments:[{type:{name:"union",raw:"T | null",elements:[{name:"T"},{name:"null"}]},name:"node"}],return:{name:"void"}}},description:"callback when select a node"},selectMode:{required:!1,tsType:{name:"union",raw:"'leafOnly' | 'noSelect' | 'all'",elements:[{name:"literal",value:"'leafOnly'"},{name:"literal",value:"'noSelect'"},{name:"literal",value:"'all'"}]},description:"@default: noSelect"},actionButtons:{required:!1,tsType:{name:"signature",type:"function",raw:"(node: T) => ReactNode",signature:{arguments:[{type:{name:"T"},name:"node"}],return:{name:"ReactNode"}}},description:"hover to show the action buttons"},search:{required:!1,tsType:{name:"string"},description:"filter and highlight the keyword"}}};function ze(n){const{setExpandedId:e,data:r,search:d,getNodeLabel:c}=n,[m]=se(d,500),s=y.useMemo(()=>{if(m===void 0||m==="")return r;const u=Me(r,c,m);return e(u.map(w=>w.id)),u},[r,m]),a=y.useMemo(()=>de(s),[s]);return i.jsx(Te,{children:a.map(u=>i.jsx(k,{...n,id:u,depth:0,data:s},u))})}function Me(n,e,r){const d=n.filter(s=>e(s).includes(r)).map(s=>s.id),c=d;function m(s){const a=n.find(u=>u.childrenId?.includes(s));a&&!c.includes(a.id)&&(c.push(a.id),m(a.id))}return d.forEach(s=>{m(s)}),c.map(s=>n.find(a=>a.id===s))}ze.__docgenInfo={description:"",methods:[],displayName:"EasyTree",props:{data:{required:!0,tsType:{name:"Array",elements:[{name:"T"}],raw:"T[]"},description:"all nodes data"},getNodeLabel:{required:!0,tsType:{name:"signature",type:"function",raw:"(node: T) => string",signature:{arguments:[{type:{name:"T"},name:"node"}],return:{name:"string"}}},description:"text to be displayed in the list"},startAdornment:{required:!1,tsType:{name:"signature",type:"function",raw:"(node: T, depth: number) => ReactNode",signature:{arguments:[{type:{name:"T"},name:"node"},{type:{name:"number"},name:"depth"}],return:{name:"ReactNode"}}},description:`start input adornment for the list
@param:
depth starts from 0
isLeaf is true if the node is a leaf node`},endAdornment:{required:!1,tsType:{name:"signature",type:"function",raw:"(node: T, depth: number) => ReactNode",signature:{arguments:[{type:{name:"T"},name:"node"},{type:{name:"number"},name:"depth"}],return:{name:"ReactNode"}}},description:`end input adornment for the list
@param:
depth starts from 0
isLeaf is true if the node is a leaf node`},expandedId:{required:!0,tsType:{name:"Array",elements:[{name:"union",raw:"number | string",elements:[{name:"number"},{name:"string"}]}],raw:"EasyId[]"},description:""},setExpandedId:{required:!0,tsType:{name:"signature",type:"function",raw:"(id: EasyId[]) => void",signature:{arguments:[{type:{name:"Array",elements:[{name:"union",raw:"number | string",elements:[{name:"number"},{name:"string"}]}],raw:"EasyId[]"},name:"id"}],return:{name:"void"}}},description:""},selectedId:{required:!1,tsType:{name:"union",raw:"EasyId | null",elements:[{name:"union",raw:"number | string",elements:[{name:"number"},{name:"string"}]},{name:"null"}]},description:"related to 'selectMode'"},onSelect:{required:!1,tsType:{name:"signature",type:"function",raw:"(node: T | null) => void",signature:{arguments:[{type:{name:"union",raw:"T | null",elements:[{name:"T"},{name:"null"}]},name:"node"}],return:{name:"void"}}},description:"callback when select a node"},selectMode:{required:!1,tsType:{name:"union",raw:"'leafOnly' | 'noSelect' | 'all'",elements:[{name:"literal",value:"'leafOnly'"},{name:"literal",value:"'noSelect'"},{name:"literal",value:"'all'"}]},description:"@default: noSelect"},actionButtons:{required:!1,tsType:{name:"signature",type:"function",raw:"(node: T) => ReactNode",signature:{arguments:[{type:{name:"T"},name:"node"}],return:{name:"ReactNode"}}},description:"hover to show the action buttons"},search:{required:!1,tsType:{name:"string"},description:"filter and highlight the keyword"}}};export{ze as E};
